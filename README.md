# flutter_todo_list

A small Todo Flutter application demonstrating a minimal, local-persistent
todo list using `shared_preferences`, a modal add sheet, and simple
interactions (dismiss to complete, tap to mark done). This README explains
how to build and run the project, the code layout, and includes a short
code-review section with suggestions and known limitations.

## Table of contents

- [Project snapshot](#project-snapshot)
- [Prerequisites](#prerequisites)
- [Install and run](#install-and-run)
- [Build](#build)
- [Run tests](#run-tests)
- [Project structure](#project-structure)
- [Dependencies](#dependencies)
- [Code review / notes](#code-review--notes)
- [Suggested improvements](#suggested-improvements)
- [Contributing](#contributing)
- [License](#license)

## Project snapshot

- App: Todo App (title shown in `lib/screens/mainScreen.dart`)
- Entrypoint: `lib/main.dart`
- Storage: `shared_preferences` (stores `List<String>` under key `todoList`)
- Small widget tree with screens under `lib/screens/` and reusable widgets
  under `lib/widgets/`.

## Prerequisites

- Flutter SDK (this project targets Dart SDK >= 3.9.2 as defined in
  `pubspec.yaml`). Install Flutter: https://docs.flutter.dev/get-started/install
- Platform tools for your target(s): Android SDK / Android Studio for Android,
  Xcode for iOS/macOS, and appropriate device/emulator setup.
- Optional: Git for cloning and version control.

## Install and run

Open a terminal (PowerShell on Windows) and run:

```pwsh
# From a folder where you want the project
git clone <your-repo-url> flutter_todo_list
cd flutter_todo_list
flutter pub get

# Run on the default connected device / emulator
flutter run

# Or specify a device:
flutter devices
flutter run -d <device-id>
```

If you only have a web device configured you can run:

```pwsh
flutter run -d chrome
```

## Build

Build a debug APK (Android):

```pwsh
flutter build apk --debug
```

Build a release APK (Android):

```pwsh
flutter build apk --release
```

Build for iOS/macOS requires Xcode and signing setup; see Flutter docs.

## Run tests

This project includes the default Flutter widget test scaffold in `test/widget_test.dart`.
Run tests with:

```pwsh
flutter test
```

## Project structure

- `lib/main.dart` — app entrypoint and `MyApp` widget.
- `lib/screens/mainScreen.dart` — main UI: AppBar, Drawer, FAB, and manages
  the `todoList` in memory. Loads and saves to `SharedPreferences`.
- `lib/screens/addTodo.dart` — modal sheet widget with a `TextField` for adding
  todos. Calls a callback `addTodo` passed from the parent.
- `lib/widgets/todoList.dart` — builds the `ListView` of todos, supports
  `Dismissible` for swipe-to-complete and a bottom-sheet to confirm "Done".
- `pubspec.yaml` — dependencies and metadata.
- `android/`, `ios/`, `web/`, `windows/`, `linux/`, `macos/` — platform folders
  generated by Flutter.

## Dependencies

The main runtime dependencies (from `pubspec.yaml`):

- `flutter` (SDK)
- `cupertino_icons: ^1.0.8`
- `flutter_feather_icons: ^2.0.0+1`
- `shared_preferences: ^2.2.2` — local storage for the todo list
- `url_launcher: ^6.3.2` — to open the "About Me" link in the drawer

Dev dependencies:

- `flutter_test` (SDK)
- `flutter_lints: ^5.0.0`

## Code review / notes

Below are focused notes based on a quick review of the main files.

- State & architecture

  - The app uses basic `StatefulWidget` and `setState` for state management
    (in `MainScreen` and `TodoListBuilder`). For this small app this is fine,
    but for larger apps consider a scoped state management solution
    (Provider, Riverpod, Bloc, etc.).

- Persistence

  - `MainScreen` persists `List<String>` to `SharedPreferences` under the
    key `todoList` via `prefs.setStringList(...)` and re-loads on `initState`.
  - Potential improvement: handle errors when reading/writing preferences
    (wrap in try/catch) and add optional migration/versioning if data model
    changes.

- Dismissible keys

  - `todoList.dart` uses `UniqueKey()` for each `Dismissible`. That works,
    but using a stable key such as `ValueKey(widget.todoList[index])` will
    provide more stable identity when the list changes (prevents unexpected
    animation/jump issues when the same item is reused).

- Duplicate prevention

  - `addTodo` checks `if (todoList.contains(todoText))` and shows an
    `AlertDialog` if the text already exists. This prevents duplicates by
    raw string equality. If you want to allow duplicates or have case-
    insensitive checks, normalize the string first (e.g., `.trim().toLowerCase()`).

- UI / UX

  - The add sheet uses `showModalBottomSheet` with a fixed height (300). For
    smaller devices this may feel crowded. Use `IntrinsicHeight` or let the
    sheet size to content, or make a scrollable column.
  - Consider an "undo" Snackbar after dismissing an item rather than an
    immediate destructive delete.

- Error handling & async

  - `updateLocalData` is async but not awaited when called from `addTodo` or
    others — this is acceptable for quick persisting, but if you rely on
    the write being complete (for example before closing the app), await it
    and show a loading indicator if needed.

- Accessibility

  - Add semantic labels to interactive widgets (e.g., the FAB and ListTile)
    for better screen-reader support.

- Security
  - This app stores non-sensitive todo text locally. If later storing more
    sensitive information, consider encrypted storage.

## Suggested improvements

These are small, low-risk improvements you can add incrementally:

1. Replace `UniqueKey()` with `ValueKey` based on a stable id or the todo text.
2. Add unit/widget tests for `AddTodo` and `TodoListBuilder` behaviors (add,
   dismiss, no-data state).
3. Add a small data model `Todo` (id, text, createdAt, completed) instead of
   plain strings — this makes future changes easier.
4. Add CI (GitHub Actions) to run `flutter analyze` and `flutter test` on PRs.
5. Add error handling around `SharedPreferences` read/writes and show a
   user-friendly message on failure.
6. Add localization (intl) if you want non-English support.

## Contributing

1. Fork the repository and create a feature branch: `git checkout -b feat/xxx`.
2. Run `flutter pub get` and make your changes.
3. Keep changes small and focused; add tests for new behavior.
4. Open a Pull Request describing the change and why it helps.

Please follow the lints in `analysis_options.yaml` and run `flutter format` on
changed files before submitting.

## License

This repository does not include an explicit license file. If you plan to
publish or share the code, add a `LICENSE` file (e.g., MIT, Apache-2.0) and
update this section.

---

If you'd like, I can also:

- Add a basic GitHub Actions workflow for analyze + test.
- Implement one or two of the suggested improvements (e.g., stable keys and
  an undo Snackbar) and run the app to verify behavior.

Requirements coverage:

- Install/run steps: Done (documented)
- Code overview: Done (file mapping + notes)
- Code review: Done (observations + suggested improvements)
